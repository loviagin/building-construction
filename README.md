–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (SRS)
–°–∏—Å—Ç–µ–º–∞ —É—á—ë—Ç–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö

–≠—Ç–∞–ø 1. –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
----------
#1. –†–∞–∑–¥–µ–ª ¬´–í–≤–µ–¥–µ–Ω–∏–µ¬ª

–¶–µ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö. –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã: –æ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –∏ –∑–∞–∫–∞–∑—á–∏–∫–∞.  Ôøº
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏), –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞—á, –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤) –∏ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π/–∑–∞–∫–∞–∑—á–∏–∫–æ–≤ (–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏).

##2. –†–∞–∑–¥–µ–ª ¬´–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π¬ª

‚Ä¢	–ò–Ω–∂–µ–Ω–µ—Ä ‚Äî —Å–æ–∑–¥–∞—ë—Ç –¥–µ—Ñ–µ–∫—Ç—ã, –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç —Ñ–æ—Ç–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç, –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏.
‚Ä¢	–ú–µ–Ω–µ–¥–∂–µ—Ä ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ–µ–∫—Ç—ã/–æ–±—ä–µ–∫—Ç—ã, –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∏ —Å—Ä–æ–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤, –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ—Ñ–µ–∫—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã.
‚Ä¢	–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å / –∑–∞–∫–∞–∑—á–∏–∫ (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å) ‚Äî –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤, –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å—ã –∏ —Å–≤–æ–¥–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ.

##3. –†–∞–∑–¥–µ–ª ¬´–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (FR)¬ª

ID	  |  –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ
FR-1	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.
FR-2	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º: –º–µ–Ω–µ–¥–∂–µ—Ä, –∏–Ω–∂–µ–Ω–µ—Ä, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å.
FR-3	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–µ–∫—Ç–∞–º–∏/–æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∏—Ö —ç—Ç–∞–ø–∞–º–∏.
FR-4	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∑–≤–æ–ª—è—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, —Å—Ä–æ–∫–∏, –≤–ª–æ–∂–µ–Ω–∏—è).
FR-5	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ —Ü–µ–ø–æ—á–∫–µ: ¬´–ù–æ–≤–∞—è ‚Üí –í —Ä–∞–±–æ—Ç–µ ‚Üí –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ ‚Üí –ó–∞–∫—Ä—ã—Ç–∞/–û—Ç–º–µ–Ω–µ–Ω–∞¬ª.
FR-6	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –≤–µ–¥–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –¥–µ—Ñ–µ–∫—Ç–∞–º –∏ –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.
FR-7	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ–∏—Å–∫, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º.
FR-8	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV/Excel.
FR-9	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ—Ñ–µ–∫—Ç–∞–º –∏ –ø—Ä–æ–µ–∫—Ç–∞–º).

##4. –†–∞–∑–¥–µ–ª ¬´–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (NFR)¬ª

ID    | –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ
NFR-1	–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 1 —Å–µ–∫—É–Ω–¥—É –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ –¥–æ 50 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
NFR-2	–î–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–æ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î –Ω–µ —Ä–µ–∂–µ –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏.
NFR-3	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –∏ –∞–¥–∞–ø—Ç–∏–≤–µ–Ω –ø–æ–¥ –ü–ö –∏ –ø–ª–∞–Ω—à–µ—Ç—ã.
NFR-4	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ Chrome, Firefox –∏ Edge.
NFR-5	–ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –≤–∏–¥–µ —Ö—ç—à-–∑–Ω–∞—á–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º bcrypt –∏–ª–∏ argon2.
NFR-6	–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π, XSS –∏ CSRF-–∞—Ç–∞–∫.

##5. –†–∞–∑–¥–µ–ª ¬´Use Case —Å—Ü–µ–Ω–∞—Ä–∏–∏¬ª

5.1. UC-1. –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º
–ê–∫—Ç–æ—Ä: –ò–Ω–∂–µ–Ω–µ—Ä.
–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è: –ò–Ω–∂–µ–Ω–µ—Ä –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ.
–û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π:
	1.	–ò–Ω–∂–µ–Ω–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ø–∏—Å–∫–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞.
	2.	–ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ¬´–°–æ–∑–¥–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç¬ª.
	3.	–í–≤–æ–¥–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è.
	4.	–£–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–æ–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞.
	5.	–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è–µ—Ç —Ñ–æ—Ç–æ/–¥–æ–∫—É–º–µ–Ω—Ç—ã.
	6.	–ù–∞–∂–∏–º–∞–µ—Ç ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª.
	7.	–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –¥–µ—Ñ–µ–∫—Ç–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º ¬´–ù–æ–≤–∞—è¬ª –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –µ—ë –≤ —Å–ø–∏—Å–∫–µ.
–†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–æ–≤—ã–π –¥–µ—Ñ–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º.

##6. –†–∞–∑–¥–µ–ª ¬´User Stories¬ª
‚Ä¢	US-1: –ö–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä, —è —Ö–æ—á—É –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã —Å —Ñ–æ—Ç–æ –∏ —Å—Ä–æ–∫–æ–º, —á—Ç–æ–±—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ –æ–±—ä–µ–∫—Ç–µ –∏ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –æ –Ω–∏—Ö.
‚Ä¢	US-2: –ö–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä, —è —Ö–æ—á—É –Ω–∞–∑–Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –∏ —Å—Ä–æ–∫–∏ –ø–æ –¥–µ—Ñ–µ–∫—Ç–∞–º, —á—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ –¥–µ–¥–ª–∞–π–Ω—ã.
‚Ä¢	US-3: –ö–∞–∫ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏ –∑–∞–∫—Ä—ã—Ç—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É –æ–±—ä–µ–∫—Ç—É, —á—Ç–æ–±—ã –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Ä–∏—Å–∫–∏.
‚Ä¢	US-4: –ö–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä, —è —Ö–æ—á—É –≤–∏–¥–µ—Ç—å —Å–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –Ω–∞ –º–µ–Ω—è, —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, —á—Ç–æ–±—ã —Å–Ω–∞—á–∞–ª–∞ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏.
‚Ä¢	US-5: –ö–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä, —è —Ö–æ—á—É —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–µ—Ñ–µ–∫—Ç–∞–º –≤ Excel, —á—Ç–æ–±—ã –¥–µ–ª–∏—Ç—å—Å—è –æ—Ç—á—ë—Ç–∞–º–∏ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º.
‚Ä¢	US-6: –ö–∞–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å, —è —Ö–æ—á—É —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã –∏ –æ—Ç—á—ë—Ç—ã, —á—Ç–æ–±—ã –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —á—Ç–æ-—Ç–æ –∏—Å–ø–æ—Ä—Ç–∏—Ç—å.
‚Ä¢	US-7: –ö–∞–∫ –º–µ–Ω–µ–¥–∂–µ—Ä, —è —Ö–æ—á—É –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ –∫–∞–∂–¥–æ–º—É –¥–µ—Ñ–µ–∫—Ç—É, —á—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è–ª —Å—Ç–∞—Ç—É—Å –∏ –æ–ø–∏—Å–∞–Ω–∏–µ.

##7. –†–∞–∑–¥–µ–ª ¬´–ê–Ω–∞–ª–∏–∑ —Ä–∏—Å–∫–æ–≤ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π¬ª (–¥–ª—è –æ—Ü–µ–Ω–∫–∏ ¬´5¬ª)

ID	–†–∏—Å–∫	–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å	–í–ª–∏—è–Ω–∏–µ	–ú–∏—Ç–∏–≥–∏—Ä—É—é—â–∏–µ –º–µ—Ä—ã
R-1	–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –æ–∫–∞–∂—É—Ç—Å—è –Ω–µ–ø–æ–ª–Ω—ã–º–∏ –∏ –ø—Ä–∏–¥—ë—Ç—Å—è –¥–æ–ø–∏—Å—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞ –ø–æ–∑–¥–Ω–∏—Ö —ç—Ç–∞–ø–∞—Ö.	–°—Ä–µ–¥–Ω—è—è	–í—ã—Å–æ–∫–æ–µ	–ù–∞ —ç—Ç–∞–ø–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏, —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä—ã –æ—Ç—á—ë—Ç–æ–≤ —Å –∑–∞–∫–∞–∑—á–∏–∫–æ–º.
R-2	–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (1 —Å–µ–∫ –ø—Ä–∏ 50 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö) –Ω–µ –±—É–¥—É—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã.	–ù–∏–∑–∫–∞—è	–í—ã—Å–æ–∫–æ–µ	–ó–∞–∫–ª–∞–¥—ã–≤–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.
R-3	–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –ø–æ—Å–ª–µ –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.	–°—Ä–µ–¥–Ω—è—è	–°—Ä–µ–¥–Ω–µ–µ	–Ø–≤–Ω–æ –æ–ø–∏—Å–∞—Ç—å —Ä–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –≤ SRS –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –∏—Ö –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

##8. –†–∞–∑–¥–µ–ª ¬´–ü—Ä–∏–æ—Ä–∏—Ç–µ–∑–∞—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π¬ª

ID	    –û–ø–∏—Å–∞–Ω–∏–µ	                                    –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
FR-1	–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è	    Must
FR-2	–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –ø–æ —Ä–æ–ª—è–º	            Must
FR-8	–≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏ –≤ CSV/Excel	                Should
FR-9	–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤ (–≥—Ä–∞—Ñ–∏–∫–∏)	    Could
NFR-1	–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ ‚â§ 1 —Å–µ–∫—É–Ω–¥—ã	                    Must
NFR-3	–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–¥ –ø–ª–∞–Ω—à–µ—Ç—ã	                    Should

##9. –†–∞–∑–¥–µ–ª ¬´–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –∑–∞–¥–∞—á–∞–º –∏ —Ç–µ—Å—Ç–∞–º¬ª

–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ	–°–≤—è–∑–∞–Ω–Ω—ã–µ User Stories	–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã (–ø–æ–∫–∞ –º–æ–∂–Ω–æ —É—Å–ª–æ–≤–Ω–æ)
FR-1	    US-1, US-4	TC-01:      –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; TC-02: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FR-4	    US-1, US-4	TC-03:       –°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞; TC-04: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞
FR-5	    US-2, US-7	TC-05:       –ü–µ—Ä–µ–≤–æ–¥ –¥–µ—Ñ–µ–∫—Ç–∞ –∏–∑ ¬´–ù–æ–≤–∞—è¬ª –≤ ¬´–í —Ä–∞–±–æ—Ç–µ¬ª –∏ –¥–∞–ª–µ–µ; TC-06: –ó–∞–ø—Ä–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å—Ç–∞—Ç—É—Å–æ–≤
FR-9	    US-3, US-5	TC-07:       –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–±—ä–µ–∫—Ç—É; TC-08: –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–∞ –≤ Excel

–≠—Ç–∞–ø 2. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
---------

##1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —É—Ä–æ–≤–Ω–∏:
‚Ä¢	–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å (Frontend) ‚Äî –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –±–∞–∑–µ Next.js, –æ—Ç–≤–µ—á–∞—é—â–µ–µ –∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –¥–µ—Ñ–µ–∫—Ç–æ–≤, —Ñ–æ—Ä–º, –æ—Ç—á—ë—Ç–æ–≤, —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ç.–¥.).
‚Ä¢	–°–µ—Ä–≤–µ—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (Backend) ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Node.js + Express, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É, REST API, –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.
‚Ä¢	–£—Ä–æ–≤–µ–Ω—å –¥–∞–Ω–Ω—ã—Ö ‚Äî —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL, –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø—Ä–æ–µ–∫—Ç—ã, –¥–µ—Ñ–µ–∫—Ç—ã, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è.

–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:
‚Ä¢	–ö–ª–∏–µ–Ω—Ç (Next.js) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ REST API (Express).
‚Ä¢	–°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ PostgreSQL —á–µ—Ä–µ–∑ ORM/SQL-—Å–ª–æ–π –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç—ã.
‚Ä¢	–î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT –∏–ª–∏ —Å–µ—Å—Å–∏–∏ (–ø–æ –≤—ã–±–æ—Ä—É), –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

##2. –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

2.1. Backend: Node.js + Express

–ü—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞:
‚Ä¢	–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –±–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–∞–∫–µ—Ç–æ–≤.
‚Ä¢	–ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ REST API, –≥–∏–±–∫–æ—Å—Ç—å middleware.
‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω —è–∑—ã–∫ (TypeScript) –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –∏ –±—ç–∫–µ–Ω–¥–µ.

–û—Å–Ω–æ–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
‚Ä¢	express ‚Äî –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫.
‚Ä¢	ORM prisma ‚Äî –¥–æ—Å—Ç—É–ø –∫ PostgreSQL.
‚Ä¢	bcrypt ‚Äî —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π.
‚Ä¢	jsonwebtoken ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
‚Ä¢	morgan/winston ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

2.2. Frontend: Next.js

–ü—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞:
‚Ä¢	–°–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–≤—ã—à–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏ SEO.
‚Ä¢	–£–¥–æ–±–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.
‚Ä¢	–õ–µ–≥–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ç–∞–±–ª–∏—Ü—ã, —Ñ–æ—Ä–º—ã, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞).

2.3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL

–ü—Ä–∏—á–∏–Ω—ã –≤—ã–±–æ—Ä–∞:
‚Ä¢	–ù–∞–¥—ë–∂–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –°–£–ë–î —Å –±–æ–≥–∞—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.
‚Ä¢	–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –∏–Ω–¥–µ–∫—Å–æ–≤, –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏.
‚Ä¢	–•–æ—Ä–æ—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Node.js —á–µ—Ä–µ–∑ –¥—Ä–∞–π–≤–µ—Ä—ã –∏ ORM.

##3. –õ–æ–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

3.1. –ú–æ–¥—É–ª–∏ backend (Node.js + Express)

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤:
‚Ä¢	src/
‚Ä¢	app.js ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Express, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ middleware –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤.
‚Ä¢	config/ ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ë–î, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).
‚Ä¢	routes/
‚Ä¢	auth.routes.js ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ª–æ–≥–∏–Ω–∞.
‚Ä¢	users.routes.js ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
‚Ä¢	projects.routes.js ‚Äî CRUD –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º.
‚Ä¢	defects.routes.js ‚Äî CRUD –∏ —Å—Ç–∞—Ç—É—Å—ã –¥–µ—Ñ–µ–∫—Ç–æ–≤.
‚Ä¢	comments.routes.js ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
‚Ä¢	reports.routes.js ‚Äî —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
‚Ä¢	controllers/ ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
‚Ä¢	services/ ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏.
‚Ä¢	repositories/ ‚Äî –¥–æ—Å—Ç—É–ø –∫ –ë–î (SQL/ORM).
‚Ä¢	models/ ‚Äî –æ–ø–∏—Å–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π (–¥–ª—è ORM –∏–ª–∏ DTO).
‚Ä¢	middlewares/
‚Ä¢	auth.middleware.js ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT/—Å–µ—Å—Å–∏–∏.
‚Ä¢	role.middleware.js ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π (–º–µ–Ω–µ–¥–∂–µ—Ä, –∏–Ω–∂–µ–Ω–µ—Ä, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å).
‚Ä¢	error.middleware.js ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
‚Ä¢	utils/ ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –∏ —Ç.–ø.).
‚Ä¢	tests/ ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.

3.2. –ú–æ–¥—É–ª–∏ frontend (Next.js)

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
‚Ä¢	pages/
‚Ä¢	index.tsx ‚Äî –≥–ª–∞–≤–Ω–∞—è/—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç.
‚Ä¢	login.tsx ‚Äî —Ñ–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞.
‚Ä¢	projects/index.tsx ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤.
‚Ä¢	projects/[id].tsx ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–µ—Ñ–µ–∫—Ç–æ–≤.
‚Ä¢	defects/[id].tsx ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ñ–µ–∫—Ç–∞ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
‚Ä¢	reports/index.tsx ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç—á—ë—Ç–æ–≤ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.
‚Ä¢	components/
‚Ä¢	Layout.tsx ‚Äî –æ–±—â–∏–π –º–∞–∫–µ—Ç (—à–∞–ø–∫–∞, –º–µ–Ω—é, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä).
‚Ä¢	ProjectList.tsx ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤.
‚Ä¢	DefectTable.tsx ‚Äî —Ç–∞–±–ª–∏—Ü–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤.
‚Ä¢	DefectForm.tsx ‚Äî —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞.
‚Ä¢	FiltersPanel.tsx ‚Äî —Ñ–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫.
‚Ä¢	ReportCharts.tsx ‚Äî –≥—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
‚Ä¢	lib/api.ts ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ backend (fetch/axios).
‚Ä¢	styles/ ‚Äî —Å—Ç–∏–ª–∏ (CSS Modules/Tailwind ‚Äî –ø–æ –≤—ã–±–æ—Ä—É).
‚Ä¢	context/ –∏–ª–∏ store/ ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Ç.–¥.

##4. –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –∏ ER-–¥–∏–∞–≥—Ä–∞–º–º–∞

4.1. –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏
	1.	–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (users)
	‚Ä¢	id (PK)
	‚Ä¢	full_name
	‚Ä¢	email (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)
	‚Ä¢	password_hash
	‚Ä¢	role (manager, engineer, viewer)
	‚Ä¢	created_at
	‚Ä¢	updated_at
	2.	–ü—Ä–æ–µ–∫—Ç / –æ–±—ä–µ–∫—Ç (projects)
	‚Ä¢	id (PK)
	‚Ä¢	name
	‚Ä¢	description
	‚Ä¢	address
	‚Ä¢	status (–Ω–∞–ø—Ä–∏–º–µ—Ä, active, completed, on_hold)
	‚Ä¢	created_at
	‚Ä¢	updated_at
	3.	–î–µ—Ñ–µ–∫—Ç (defects)
	‚Ä¢	id (PK)
	‚Ä¢	project_id (FK ‚Üí projects.id)
	‚Ä¢	title
	‚Ä¢	description
	‚Ä¢	priority (low, medium, high, critical)
	‚Ä¢	status (new, in_progress, on_review, closed, canceled)
	‚Ä¢	author_id (FK ‚Üí users.id) ‚Äî –∫—Ç–æ —Å–æ–∑–¥–∞–ª
	‚Ä¢	assignee_id (FK ‚Üí users.id) ‚Äî –∫—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
	‚Ä¢	due_date ‚Äî —Å—Ä–æ–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
	‚Ä¢	created_at
	‚Ä¢	updated_at
	4.	–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (comments)
	‚Ä¢	id (PK)
	‚Ä¢	defect_id (FK ‚Üí defects.id)
	‚Ä¢	author_id (FK ‚Üí users.id)
	‚Ä¢	text
	‚Ä¢	created_at
	5.	–í–ª–æ–∂–µ–Ω–∏–µ (attachments)
	‚Ä¢	id (PK)
	‚Ä¢	defect_id (FK ‚Üí defects.id)
	‚Ä¢	file_name
	‚Ä¢	file_path (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å/URL)
	‚Ä¢	uploaded_at
	6.	–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–æ–≤ (defect_history) (–ø–æ –∂–µ–ª–∞–Ω–∏—é, –Ω–∞ ¬´5¬ª)
	‚Ä¢	id (PK)
	‚Ä¢	defect_id (FK ‚Üí defects.id)
	‚Ä¢	old_status
	‚Ä¢	new_status
	‚Ä¢	changed_by (FK ‚Üí users.id)
	‚Ä¢	changed_at

4.2. –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ (—Å–ª–æ–≤–µ—Å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã)
‚Ä¢	–û–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –¥–µ—Ñ–µ–∫—Ç–æ–≤ (projects 1:N defects).
‚Ä¢	–û–¥–∏–Ω –¥–µ—Ñ–µ–∫—Ç —Å–≤—è–∑–∞–Ω —Å –æ–¥–Ω–∏–º –∞–≤—Ç–æ—Ä–æ–º –∏ –æ–¥–Ω–∏–º –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º (users 1:N defects –ø–æ author_id –∏ assignee_id).
‚Ä¢	–û–¥–∏–Ω –¥–µ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (defects 1:N comments).
‚Ä¢	–û–¥–∏–Ω –¥–µ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏–π (defects 1:N attachments).
‚Ä¢	–û–¥–∏–Ω –¥–µ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (defects 1:N defect_history).

##5. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

5.1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚Ä¢	POST /api/auth/register
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É/–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É, –ª–∏–±–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ –Ω–∞ —ç—Ç–∞–ø–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è).
‚Ä¢	POST /api/auth/login
–í—Ö–æ–¥ –ø–æ email + –ø–∞—Ä–æ–ª—å, –≤–æ–∑–≤—Ä–∞—Ç JWT/—Å–µ—Å—Å–∏–∏.
‚Ä¢	GET /api/users/me
–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
‚Ä¢	GET /api/users (—Ä–æ–ª—å: –º–µ–Ω–µ–¥–∂–µ—Ä)
–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
‚Ä¢	PATCH /api/users/:id (—Ä–æ–ª—å: –º–µ–Ω–µ–¥–∂–µ—Ä)
–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ —Ç.–ø.

5.2. –ü—Ä–æ–µ–∫—Ç—ã
‚Ä¢	GET /api/projects
–°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ —Å—Ç–∞—Ç—É—Å—É).
‚Ä¢	POST /api/projects (—Ä–æ–ª—å: –º–µ–Ω–µ–¥–∂–µ—Ä)
–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.
‚Ä¢	GET /api/projects/:id
–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –ø—Ä–æ–µ–∫—Ç—É + –±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤.
‚Ä¢	PATCH /api/projects/:id (—Ä–æ–ª—å: –º–µ–Ω–µ–¥–∂–µ—Ä)
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞.
‚Ä¢	DELETE /api/projects/:id (—Ä–æ–ª—å: –º–µ–Ω–µ–¥–∂–µ—Ä)
–£–¥–∞–ª–µ–Ω–∏–µ/–∞—Ä—Ö–∏–≤–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –±–∏–∑–Ω–µ—Å–∞).

5.3. –î–µ—Ñ–µ–∫—Ç—ã
‚Ä¢	GET /api/projects/:projectId/defects
–°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏:
?status=&priority=&assignee=&search=.
‚Ä¢	POST /api/projects/:projectId/defects (–∏–Ω–∂–µ–Ω–µ—Ä/–º–µ–Ω–µ–¥–∂–µ—Ä)
–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞.
‚Ä¢	GET /api/defects/:id
–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ñ–µ–∫—Ç–∞.
‚Ä¢	PATCH /api/defects/:id
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ–π –¥–µ—Ñ–µ–∫—Ç–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤).
‚Ä¢	PATCH /api/defects/:id/status
–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–º –ø–µ—Ä–µ—Ö–æ–¥–∞–º (–Ω–æ–≤–∞—è ‚Üí –≤ —Ä–∞–±–æ—Ç–µ ‚Üí –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ ‚Üí –∑–∞–∫—Ä—ã—Ç–∞/–æ—Ç–º–µ–Ω–µ–Ω–∞).
‚Ä¢	DELETE /api/defects/:id
–õ–æ–≥–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ/–∞—Ä—Ö–∏–≤–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).

5.4. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –≤–ª–æ–∂–µ–Ω–∏—è
‚Ä¢	GET /api/defects/:id/comments
–°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.
‚Ä¢	POST /api/defects/:id/comments
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
‚Ä¢	POST /api/defects/:id/attachments
–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (—á–µ—Ä–µ–∑ multipart-form).
‚Ä¢	GET /api/attachments/:id
–î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É/—Å—Å—ã–ª–∫–∞.

5.5. –û—Ç—á—ë—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚Ä¢	GET /api/reports/summary
–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ—Ñ–µ–∫—Ç–∞–º:
‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º;
‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º;
‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º.
‚Ä¢	GET /api/reports/projects/:id
–û—Ç—á—ë—Ç –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø—Ä–æ–µ–∫—Ç—É.

##6. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

6.1. –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ (Login)

–≠–ª–µ–º–µ–Ω—Ç—ã:
	‚Ä¢	–ü–æ–ª–µ Email.
	‚Ä¢	–ü–æ–ª–µ –ü–∞—Ä–æ–ª—å.
	‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´–í–æ–π—Ç–∏¬ª.
	‚Ä¢	–°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–õ–æ–≥–∏–∫–∞:
	‚Ä¢	–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ª–æ–≥–∏–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–∫–µ–Ω/—Å–µ—Å—Å–∏—è –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤.

6.2. –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤

–≠–ª–µ–º–µ–Ω—Ç—ã:
	‚Ä¢	–¢–∞–±–ª–∏—Ü–∞/–∫–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —Å—Ç–∞—Ç—É—Å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤.
	‚Ä¢	–§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–æ–µ–∫—Ç–∞.
	‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç¬ª (–≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É).
	‚Ä¢	–°—Å—ã–ª–∫–∞ ¬´–ü–æ–¥—Ä–æ–±–Ω–µ–µ¬ª –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç.

6.3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–µ—Ñ–µ–∫—Ç—ã –ø–æ –æ–±—ä–µ–∫—Ç—É)

–≠–ª–µ–º–µ–Ω—Ç—ã:
	‚Ä¢	–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, —Å—Ç–∞—Ç—É—Å).
	‚Ä¢	–ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤:
	‚Ä¢	–ø–æ —Å—Ç–∞—Ç—É—Å—É –¥–µ—Ñ–µ–∫—Ç–∞,
	‚Ä¢	–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É,
	‚Ä¢	–ø–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é,
	‚Ä¢	–ø–æ —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞.
	‚Ä¢	–¢–∞–±–ª–∏—Ü–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤: ID, –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Å—Ç–∞—Ç—É—Å, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, —Å—Ä–æ–∫.
	‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç¬ª.

6.4. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞

–ü–æ–ª—è:
	‚Ä¢	–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π).
	‚Ä¢	–û–ø–∏—Å–∞–Ω–∏–µ.
	‚Ä¢	–ü—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ –æ–±—â–∞—è).
	‚Ä¢	–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (select).
	‚Ä¢	–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (select –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).
	‚Ä¢	–°—Ä–æ–∫ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (datepicker).
	‚Ä¢	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã.

–î–µ–π—Å—Ç–≤–∏—è:
	‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª.
	‚Ä¢	–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π.

6.5. –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–µ—Ñ–µ–∫—Ç–∞

–≠–ª–µ–º–µ–Ω—Ç—ã:
	‚Ä¢	–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–µ—Ñ–µ–∫—Ç–µ (–≤—Å–µ –ø–æ–ª—è).
	‚Ä¢	–ë–ª–æ–∫ ¬´–ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤¬ª (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω).
	‚Ä¢	–ë–ª–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:
	‚Ä¢	—Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤;
	‚Ä¢	–ø–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
	‚Ä¢	–ö–Ω–æ–ø–∫–∞/—Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ (–µ—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞).
	‚Ä¢	–°–ø–∏—Å–æ–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

6.6. –≠–∫—Ä–∞–Ω –æ—Ç—á—ë—Ç–æ–≤

–≠–ª–µ–º–µ–Ω—Ç—ã:
	‚Ä¢	–§–∏–ª—å—Ç—Ä—ã: –ø–æ –ø—Ä–æ–µ–∫—Ç—É, –ø–æ –ø–µ—Ä–∏–æ–¥—É.
	‚Ä¢	–ö–∞—Ä—Ç–æ—á–∫–∏ —Å–æ —Å–≤–æ–¥–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π:
	‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö/–∑–∞–∫—Ä—ã—Ç—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤;
	‚Ä¢	–¥–µ—Ñ–µ–∫—Ç—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É.
	‚Ä¢	–ì—Ä–∞—Ñ–∏–∫–∏ (—Å—Ç–æ–ª–±—á–∞—Ç—ã–µ/–∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã).
	‚Ä¢	–ö–Ω–æ–ø–∫–∞ ¬´–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel/CSV¬ª.

##7. –ü–ª–∞–Ω —Ä–∞–±–æ—Ç (WBS) –∏ –ø—Ä–∏–º–µ—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã –ì–∞–Ω—Ç–∞

7.1. WBS ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—è –∑–∞–¥–∞—á

1. –ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–≠—Ç–∞–ø 1‚Äì2)
1.1. –°–±–æ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ SRS
1.2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –≤—ã–±–æ—Ä —Å—Ç–µ–∫–∞
1.3. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ ER-–¥–∏–∞–≥—Ä–∞–º–º—ã
1.4. –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ backend
2.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ Node.js + Express
2.2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (Auth)
2.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π Users, Projects
2.4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è Defects (CRUD, —Å—Ç–∞—Ç—É—Å—ã)
2.5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Comments –∏ Attachments
2.6. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Reports
2.7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ frontend (Next.js)
3.1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Next.js
3.2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ª–æ–≥–∏–Ω–∞
3.3. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
3.4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –¥–µ—Ñ–µ–∫—Ç–æ–≤ (—Å–ø–∏—Å–æ–∫, –∫–∞—Ä—Ç–æ—á–∫–∞, —Ñ–æ—Ä–º–∞)
3.5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Ç—á—ë—Ç–æ–≤
3.6. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ backend API

4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π –∏ —Ä–æ–ª–µ–π
4.2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4.3. –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã backend
4.4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (API-—Ü–µ–ø–æ—á–∫–∏)
4.5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (—Ä—É—á–Ω–æ–µ/–∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)

5. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è
5.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–µ—Ä–≤–µ—Ä, PostgreSQL)
5.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –º–∏–≥—Ä–∞—Ü–∏–π
5.3. –î–µ–ø–ª–æ–π backend –∏ frontend
5.4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
5.5. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø—Ä–∏—ë–º–∫–∞

7.2. –ü—Ä–∏–º–µ—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã –ì–∞–Ω—Ç–∞
	‚Ä¢	–ù–µ–¥–µ–ª—è 1‚Äì2: –ê–Ω–∞–ª–∏–∑, SRS, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ë–î.
	‚Ä¢	–ù–µ–¥–µ–ª—è 3‚Äì4: Backend (Auth, Users, Projects, Defects).
	‚Ä¢	–ù–µ–¥–µ–ª—è 5: Backend (Comments, Attachments, Reports).
	‚Ä¢	–ù–µ–¥–µ–ª—è 6: Frontend (–ª–æ–≥–∏–Ω, –ø—Ä–æ–µ–∫—Ç—ã, –¥–µ—Ñ–µ–∫—Ç—ã).
	‚Ä¢	–ù–µ–¥–µ–ª—è 7: Frontend (–æ—Ç—á—ë—Ç—ã, —É–ª—É—á—à–µ–Ω–∏–µ UX).
	‚Ä¢	–ù–µ–¥–µ–ª—è 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –¥–µ–ø–ª–æ–π –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

======================

–≠—Ç–∞–ø–∞ 3

1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

1.1. –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ –∏ git

mkdir defects-system
cd defects-system
git init

–°–æ–∑–¥–∞–π 2 –ø–æ–¥–ø–∞–ø–∫–∏:

mkdir backend frontend


‚∏ª

2. Backend: Node.js + Express + PostgreSQL

2.1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è backend-–ø—Ä–æ–µ–∫—Ç–∞

cd backend
npm init -y

–£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

npm install express pg bcrypt jsonwebtoken cors dotenv morgan express-validator multer
npm install --save-dev nodemon

–í package.json –¥–æ–±–∞–≤—å —Å–∫—Ä–∏–ø—Ç—ã:

"scripts": {
  "dev": "nodemon src/app.js",
  "start": "node src/app.js",
  "test": "echo \"No tests yet\""
}

–°–æ–∑–¥–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

mkdir -p src/{config,routes,controllers,services,repositories,models,middlewares,utils}
touch src/app.js src/config/db.js


‚∏ª

2.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

–°–æ–∑–¥–∞–π .env –≤ –ø–∞–ø–∫–µ backend:

PORT=4000
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password
DB_NAME=defects_db
JWT_SECRET=super_secret_key

src/config/db.js:

import pkg from 'pg';
const { Pool } = pkg;
import dotenv from 'dotenv';
dotenv.config();

export const pool = new Pool({
  host: process.env.DB_HOST,
  port: process.env.DB_PORT,
  user: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME,
});

(–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å CommonJS ‚Äî –ø–æ–º–µ–Ω—è–µ–º import –Ω–∞ require, –Ω–æ –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–ª—é ES-–º–æ–¥—É–ª–∏, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä.)

‚∏ª

2.3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –≤ –±–∞–∑–µ

–ó–∞–π–¥–∏ –≤ psql –∏ —Å–æ–∑–¥–∞–π –ë–î:

createdb defects_db
psql defects_db

–í psql:

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    full_name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    role TEXT NOT NULL CHECK (role IN ('manager', 'engineer', 'viewer')),
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE projects (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT,
    address TEXT,
    status TEXT NOT NULL DEFAULT 'active',
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE defects (
    id SERIAL PRIMARY KEY,
    project_id INT NOT NULL REFERENCES projects(id) ON DELETE CASCADE,
    title TEXT NOT NULL,
    description TEXT,
    priority TEXT NOT NULL CHECK (priority IN ('low','medium','high','critical')),
    status TEXT NOT NULL CHECK (status IN ('new','in_progress','on_review','closed','canceled')) DEFAULT 'new',
    author_id INT NOT NULL REFERENCES users(id),
    assignee_id INT REFERENCES users(id),
    due_date DATE,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE comments (
    id SERIAL PRIMARY KEY,
    defect_id INT NOT NULL REFERENCES defects(id) ON DELETE CASCADE,
    author_id INT NOT NULL REFERENCES users(id),
    text TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE attachments (
    id SERIAL PRIMARY KEY,
    defect_id INT NOT NULL REFERENCES defects(id) ON DELETE CASCADE,
    file_name TEXT NOT NULL,
    file_path TEXT NOT NULL,
    uploaded_at TIMESTAMP DEFAULT NOW()
);


‚∏ª

2.4. –ë–∞–∑–æ–≤—ã–π app.js (Express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)

src/app.js:

import express from 'express';
import cors from 'cors';
import morgan from 'morgan';
import dotenv from 'dotenv';
dotenv.config();

import { pool } from './config/db.js';
import authRoutes from './routes/auth.routes.js';
import projectRoutes from './routes/projects.routes.js';
import defectRoutes from './routes/defects.routes.js';
import commentRoutes from './routes/comments.routes.js';
import reportRoutes from './routes/reports.routes.js';

const app = express();

app.use(cors());
app.use(express.json());
app.use(morgan('dev'));

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
pool.connect()
  .then(client => {
    client.release();
    console.log('Connected to PostgreSQL');
  })
  .catch(err => console.error('DB connection error', err.stack));

app.get('/api/health', (req, res) => {
  res.json({ status: 'ok' });
});

app.use('/api/auth', authRoutes);
app.use('/api/projects', projectRoutes);
app.use('/api/defects', defectRoutes);
app.use('/api/comments', commentRoutes);
app.use('/api/reports', reportRoutes);

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)
app.use((err, req, res, next) => {
  console.error(err);
  res.status(500).json({ message: 'Internal server error' });
});

const port = process.env.PORT || 4000;
app.listen(port, () => {
  console.log(`API server running on port ${port}`);
});


‚∏ª

2.5. Middleware: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–æ–ª–∏

src/middlewares/auth.middleware.js:

import jwt from 'jsonwebtoken';

export function authMiddleware(req, res, next) {
  const authHeader = req.headers.authorization;
  if (!authHeader?.startsWith('Bearer ')) {
    return res.status(401).json({ message: 'Unauthorized' });
  }

  const token = authHeader.substring(7);
  try {
    const payload = jwt.verify(token, process.env.JWT_SECRET);
    req.user = payload; // { id, role, email }
    next();
  } catch (e) {
    return res.status(401).json({ message: 'Invalid token' });
  }
}

export function roleMiddleware(...allowedRoles) {
  return (req, res, next) => {
    if (!req.user || !allowedRoles.includes(req.user.role)) {
      return res.status(403).json({ message: 'Forbidden' });
    }
    next();
  };
}


‚∏ª

2.6. Auth: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω

–ú–∞—Ä—à—Ä—É—Ç—ã
src/routes/auth.routes.js:

import { Router } from 'express';
import { register, login, me } from '../controllers/auth.controller.js';
import { authMiddleware } from '../middlewares/auth.middleware.js';

const router = Router();

router.post('/register', register); // –≤—Ä–µ–º–µ–Ω–Ω–æ –ª—é–±–æ–π, –ø–æ—Ç–æ–º –º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å
router.post('/login', login);
router.get('/me', authMiddleware, me);

export default router;

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
src/controllers/auth.controller.js:

import bcrypt from 'bcrypt';
import jwt from 'jsonwebtoken';
import { pool } from '../config/db.js';

const SALT_ROUNDS = 10;

export async function register(req, res, next) {
  try {
    const { full_name, email, password, role = 'engineer' } = req.body;

    if (!full_name || !email || !password) {
      return res.status(400).json({ message: 'Missing required fields' });
    }

    const passwordHash = await bcrypt.hash(password, SALT_ROUNDS);

    const result = await pool.query(
      `INSERT INTO users (full_name, email, password_hash, role)
       VALUES ($1, $2, $3, $4)
       RETURNING id, full_name, email, role`,
      [full_name, email, passwordHash, role]
    );

    return res.status(201).json(result.rows[0]);
  } catch (err) {
    if (err.code === '23505') {
      return res.status(409).json({ message: 'Email already exists' });
    }
    next(err);
  }
}

export async function login(req, res, next) {
  try {
    const { email, password } = req.body;
    const result = await pool.query(
      'SELECT * FROM users WHERE email = $1',
      [email]
    );
    const user = result.rows[0];

    if (!user) {
      return res.status(401).json({ message: 'Invalid credentials' });
    }

    const match = await bcrypt.compare(password, user.password_hash);
    if (!match) {
      return res.status(401).json({ message: 'Invalid credentials' });
    }

    const token = jwt.sign(
      { id: user.id, email: user.email, role: user.role },
      process.env.JWT_SECRET,
      { expiresIn: '8h' }
    );

    return res.json({
      token,
      user: {
        id: user.id,
        full_name: user.full_name,
        email: user.email,
        role: user.role,
      },
    });
  } catch (err) {
    next(err);
  }
}

export async function me(req, res) {
  res.json({ user: req.user });
}

üëâ –£–∂–µ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —É —Ç–µ–±—è –±—É–¥–µ—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, /me.

‚∏ª

2.7. Projects: CRUD

src/routes/projects.routes.js:

import { Router } from 'express';
import { authMiddleware, roleMiddleware } from '../middlewares/auth.middleware.js';
import {
  getProjects,
  getProjectById,
  createProject,
  updateProject,
  deleteProject,
} from '../controllers/projects.controller.js';

const router = Router();

router.use(authMiddleware);

router.get('/', getProjects);
router.get('/:id', getProjectById);
router.post('/', roleMiddleware('manager'), createProject);
router.patch('/:id', roleMiddleware('manager'), updateProject);
router.delete('/:id', roleMiddleware('manager'), deleteProject);

export default router;

src/controllers/projects.controller.js (–∫–æ—Ä–æ—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è):

import { pool } from '../config/db.js';

export async function getProjects(req, res, next) {
  try {
    const result = await pool.query('SELECT * FROM projects ORDER BY id DESC');
    res.json(result.rows);
  } catch (err) {
    next(err);
  }
}

export async function getProjectById(req, res, next) {
  try {
    const { id } = req.params;
    const result = await pool.query(
      `SELECT p.*, 
              COUNT(d.id) FILTER (WHERE d.status != 'closed') AS open_defects
       FROM projects p
       LEFT JOIN defects d ON d.project_id = p.id
       WHERE p.id = $1
       GROUP BY p.id`,
      [id]
    );
    if (!result.rows[0]) return res.status(404).json({ message: 'Not found' });
    res.json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

export async function createProject(req, res, next) {
  try {
    const { name, description, address } = req.body;
    const result = await pool.query(
      `INSERT INTO projects (name, description, address)
       VALUES ($1, $2, $3)
       RETURNING *`,
      [name, description, address]
    );
    res.status(201).json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

export async function updateProject(req, res, next) {
  try {
    const { id } = req.params;
    const { name, description, address, status } = req.body;
    const result = await pool.query(
      `UPDATE projects
       SET name = COALESCE($1, name),
           description = COALESCE($2, description),
           address = COALESCE($3, address),
           status = COALESCE($4, status),
           updated_at = NOW()
       WHERE id = $5
       RETURNING *`,
      [name, description, address, status, id]
    );
    if (!result.rows[0]) return res.status(404).json({ message: 'Not found' });
    res.json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

export async function deleteProject(req, res, next) {
  try {
    const { id } = req.params;
    await pool.query('DELETE FROM projects WHERE id = $1', [id]);
    res.status(204).send();
  } catch (err) {
    next(err);
  }
}


‚∏ª

2.8. Defects: CRUD + —Å—Ç–∞—Ç—É—Å—ã

–°—Ö–µ–º–∞ –ø–æ—Ö–æ–∂–∞—è: –º–∞—Ä—à—Ä—É—Ç—ã + –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.

src/routes/defects.routes.js:

import { Router } from 'express';
import { authMiddleware } from '../middlewares/auth.middleware.js';
import {
  getDefectsByProject,
  getDefectById,
  createDefect,
  updateDefect,
  updateDefectStatus,
} from '../controllers/defects.controller.js';

const router = Router();
router.use(authMiddleware);

// /api/defects?projectId=1&status=new&priority=high
router.get('/', getDefectsByProject);
router.get('/:id', getDefectById);
router.post('/', createDefect);
router.patch('/:id', updateDefect);
router.patch('/:id/status', updateDefectStatus);

export default router;

src/controllers/defects.controller.js (—É–ø—Ä–æ—â—ë–Ω–Ω–æ):

import { pool } from '../config/db.js';

export async function getDefectsByProject(req, res, next) {
  try {
    const { projectId, status, priority, assigneeId, search } = req.query;
    const conditions = [];
    const values = [];
    let idx = 1;

    if (projectId) {
      conditions.push(`project_id = $${idx++}`);
      values.push(projectId);
    }
    if (status) {
      conditions.push(`status = $${idx++}`);
      values.push(status);
    }
    if (priority) {
      conditions.push(`priority = $${idx++}`);
      values.push(priority);
    }
    if (assigneeId) {
      conditions.push(`assignee_id = $${idx++}`);
      values.push(assigneeId);
    }
    if (search) {
      conditions.push(`(title ILIKE $${idx} OR description ILIKE $${idx})`);
      values.push(`%${search}%`);
      idx++;
    }

    const where = conditions.length ? 'WHERE ' + conditions.join(' AND ') : '';
    const query = `SELECT * FROM defects ${where} ORDER BY created_at DESC`;

    const result = await pool.query(query, values);
    res.json(result.rows);
  } catch (err) {
    next(err);
  }
}

export async function getDefectById(req, res, next) {
  try {
    const { id } = req.params;
    const result = await pool.query('SELECT * FROM defects WHERE id = $1', [id]);
    if (!result.rows[0]) return res.status(404).json({ message: 'Not found' });
    res.json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

export async function createDefect(req, res, next) {
  try {
    const { project_id, title, description, priority, assignee_id, due_date } = req.body;
    const author_id = req.user.id;

    const result = await pool.query(
      `INSERT INTO defects 
       (project_id, title, description, priority, author_id, assignee_id, due_date)
       VALUES ($1, $2, $3, $4, $5, $6, $7)
       RETURNING *`,
      [project_id, title, description, priority, author_id, assignee_id, due_date]
    );
    res.status(201).json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

export async function updateDefect(req, res, next) {
  try {
    const { id } = req.params;
    const { title, description, priority, assignee_id, due_date } = req.body;

    const result = await pool.query(
      `UPDATE defects
       SET title = COALESCE($1, title),
           description = COALESCE($2, description),
           priority = COALESCE($3, priority),
           assignee_id = COALESCE($4, assignee_id),
           due_date = COALESCE($5, due_date),
           updated_at = NOW()
       WHERE id = $6
       RETURNING *`,
      [title, description, priority, assignee_id, due_date, id]
    );
    if (!result.rows[0]) return res.status(404).json({ message: 'Not found' });
    res.json(result.rows[0]);
  } catch (err) {
    next(err);
  }
}

const allowedTransitions = {
  new: ['in_progress', 'canceled'],
  in_progress: ['on_review', 'canceled'],
  on_review: ['closed', 'in_progress'],
  closed: [],
  canceled: [],
};

export async function updateDefectStatus(req, res, next) {
  try {
    const { id } = req.params;
    const { status: newStatus } = req.body;

    const result = await pool.query('SELECT status FROM defects WHERE id = $1', [id]);
    const defect = result.rows[0];
    if (!defect) return res.status(404).json({ message: 'Not found' });

    const allowed = allowedTransitions[defect.status] || [];
    if (!allowed.includes(newStatus)) {
      return res.status(400).json({ message: 'Invalid status transition' });
    }

    const updated = await pool.query(
      `UPDATE defects
       SET status = $1, updated_at = NOW()
       WHERE id = $2
       RETURNING *`,
      [newStatus, id]
    );

    res.json(updated.rows[0]);
  } catch (err) {
    next(err);
  }
}


‚∏ª

2.9. Comments –∏ Reports (–∫—Ä–∞—Ç–∫–æ)

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ‚Äî –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏:
	‚Ä¢	GET /api/comments?defectId=...
	‚Ä¢	POST /api/comments (defect_id, text).

Reports ‚Äî –º–∏–Ω–∏–º—É–º:

GET /api/reports/summary:
	‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º;
	‚Ä¢	–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º.

SQL –ø—Ä–∏–º–µ—Ä:

SELECT status, COUNT(*) FROM defects GROUP BY status;
SELECT priority, COUNT(*) FROM defects GROUP BY priority;

–í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ —Å–æ–±–∏—Ä–∞–µ—à—å —ç—Ç–∏ –¥–≤–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—à—å JSON.

‚∏ª

3. Frontend: Next.js

–ú–∏–Ω–∏–º—É–º, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–±–æ—Ç—É:

3.1. –°–æ–∑–¥–∞–π Next.js-–ø—Ä–æ–µ–∫—Ç

–í –∫–æ—Ä–Ω–µ:

cd ../frontend
npx create-next-app@latest .
# –∏–ª–∏ —Å —Ä—É—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º TypeScript/JS

–í .env.local:

NEXT_PUBLIC_API_URL=http://localhost:4000/api

–°–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç—É—é –æ–±—ë—Ä—Ç–∫—É –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤: frontend/lib/api.ts:

export async function apiFetch(path: string, options: RequestInit = {}) {
  const baseUrl = process.env.NEXT_PUBLIC_API_URL;
  const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;

  const headers: HeadersInit = {
    'Content-Type': 'application/json',
    ...(options.headers || {}),
  };

  if (token) {
    headers['Authorization'] = `Bearer ${token}`;
  }

  const res = await fetch(`${baseUrl}${path}`, {
    ...options,
    headers,
  });

  if (!res.ok) {
    throw new Error(`API error: ${res.status}`);
  }

  return res.json();
}


‚∏ª

3.2. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–æ–≥–∏–Ω–∞ /login

frontend/app/login/page.tsx (–¥–ª—è Next 13+ —Å app router):

'use client';

import { useState } from 'react';

export default function LoginPage() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState<string | null>(null);

  async function handleSubmit(e: React.FormEvent) {
    e.preventDefault();
    setError(null);
    try {
      const res = await fetch(`${process.env.NEXT_PUBLIC_API_URL}/auth/login`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password }),
      });

      if (!res.ok) {
        setError('Invalid credentials');
        return;
      }

      const data = await res.json();
      localStorage.setItem('token', data.token);
      window.location.href = '/projects';
    } catch (err) {
      setError('Login error');
    }
  }

  return (
    <main style={{ maxWidth: 400, margin: '40px auto' }}>
      <h1>Login</h1>
      <form onSubmit={handleSubmit}>
        <div>
          <label>Email</label><br/>
          <input value={email} onChange={e => setEmail(e.target.value)} />
        </div>
        <div style={{ marginTop: 10 }}>
          <label>Password</label><br/>
          <input type="password" value={password} onChange={e => setPassword(e.target.value)} />
        </div>
        {error && <p style={{ color: 'red' }}>{error}</p>}
        <button style={{ marginTop: 15 }} type="submit">Log in</button>
      </form>
    </main>
  );
}


‚∏ª

3.3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ /projects

–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫:

frontend/app/projects/page.tsx:

'use client';

import { useEffect, useState } from 'react';

type Project = {
  id: number;
  name: string;
  status: string;
};

export default function ProjectsPage() {
  const [projects, setProjects] = useState<Project[]>([]);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const token = localStorage.getItem('token');
    if (!token) {
      window.location.href = '/login';
      return;
    }

    fetch(`${process.env.NEXT_PUBLIC_API_URL}/projects`, {
      headers: {
        Authorization: `Bearer ${token}`,
      },
    })
      .then(async (res) => {
        if (!res.ok) throw new Error('API error');
        return res.json();
      })
      .then(setProjects)
      .catch(() => setError('Failed to load projects'));
  }, []);

  return (
    <main style={{ maxWidth: 800, margin: '40px auto' }}>
      <h1>Projects</h1>
      {error && <p style={{ color: 'red' }}>{error}</p>}
      <ul>
        {projects.map(p => (
          <li key={p.id}>
            <a href={`/projects/${p.id}`}>
              {p.name} ({p.status})
            </a>
          </li>
        ))}
      </ul>
    </main>
  );
}


‚∏ª

3.4. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ /projects/[id]

–î–∞–ª—å—à–µ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏: –ø–æ projectId –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—à—å /api/defects?projectId=..., —Ä–∏—Å—É–µ—à—å —Ç–∞–±–ª–∏—Ü—É, –¥–µ–ª–∞–µ—à—å –ø—Ä–æ—Å—Ç—É—é —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–∞.

‚∏ª

4. –ß—Ç–æ —Ç–µ–±–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ –¥–ª—è –æ—Ç—á—ë—Ç–∞ –ø–æ –≠—Ç–∞–ø—É 3
	1.	–°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ (–ø–∞–ø–∫–∏ backend/frontend).
	2.	–°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ Postman / –±—Ä–∞—É–∑–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, /api/health, /api/projects).
	3.	–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:
	‚Ä¢	Auth (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, JWT);
	‚Ä¢	Users/Roles (—Ä–æ–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ users);
	‚Ä¢	Projects (CRUD);
	‚Ä¢	Defects (CRUD + —Å—Ç–∞—Ç—É—Å—ã);
	‚Ä¢	Comments/Reports (–º–∏–Ω–∏–º—É–º –±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞).
	4.	–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç).

‚∏ª

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–∂–µ–º:
	‚Ä¢	–æ—Ç–¥–µ–ª—å–Ω–æ —Ä–∞—Å–ø–∏—Å–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–≠—Ç–∞–ø 4) —Å —á–µ–∫-–ª–∏—Å—Ç–æ–º,
	‚Ä¢	–∏–ª–∏ —è –º–æ–≥—É –ø–æ–¥—Å–æ–±—Ä–∞—Ç—å —Ç–µ–±–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –¥–ª—è API (jest + supertest) –ø–æ–¥ –≠—Ç–∞–ø 5.